[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scenes/TileMap.tscn" type="PackedScene" id=1]
[ext_resource path="res://player/player2.gd" type="Script" id=2]
[ext_resource path="res://textures/light.png" type="Texture" id=3]
[ext_resource path="res://textures/tileset.png" type="Texture" id=4]
[ext_resource path="res://background.png" type="Texture" id=5]
[ext_resource path="res://Scenes/saw.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/next level.tscn" type="PackedScene" id=7]
[ext_resource path="res://textures/title.png" type="Texture" id=8]
[ext_resource path="res://textures/start.png" type="Texture" id=9]
[ext_resource path="res://scripts/MAIN MENU.gd" type="Script" id=10]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 7, 7 )

[sub_resource type="ParticlesMaterial" id=2]
flag_disable_z = true
direction = Vector3( 0, 0, 0 )
spread = 0.0
gravity = Vector3( 0, 0, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0
scale = 15.0
color = Color( 0, 0, 0, 1 )
hue_variation = 1.0
hue_variation_random = 1.0

[sub_resource type="Gradient" id=3]
colors = PoolColorArray( 0.12549, 0.137255, 0.137255, 0, 1, 1, 1, 1 )

[sub_resource type="GradientTexture" id=4]
gradient = SubResource( 3 )

[sub_resource type="ParticlesMaterial" id=5]
lifetime_randomness = 1.0
emission_shape = 1
emission_sphere_radius = 49.55
flag_disable_z = true
direction = Vector3( 0, 0, 0 )
spread = 0.0
gravity = Vector3( 0, 0, 0 )
initial_velocity_random = 1.0
orbit_velocity = 1.0
orbit_velocity_random = 1.0
tangential_accel = -100.0
angle = -720.0
scale = 1.5
scale_random = 1.0
color_ramp = SubResource( 4 )
hue_variation = 0.25
hue_variation_random = 1.0

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 7.9, 7.9 )

[node name="Node" type="Node"]
script = ExtResource( 10 )

[node name="background" type="Sprite" parent="."]
position = Vector2( 4.93242, -33.6307 )
scale = Vector2( 6.9, 6.9 )
texture = ExtResource( 5 )

[node name="Camera2D" type="Camera2D" parent="."]
scale = Vector2( 6.9, 6.9 )
current = true
zoom = Vector2( 0.5, 0.5 )

[node name="saw" type="Node" parent="."]

[node name="saw2" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -76.7827, 189.107 )

[node name="saw3" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -199.806, 129.579 )

[node name="saw4" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -365.69, 189.107 )

[node name="saw5" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -292.669, 57.3528 )

[node name="saw6" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -362.515, -187.107 )

[node name="saw7" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -117.261, -129.167 )

[node name="saw8" parent="saw" instance=ExtResource( 6 )]
position = Vector2( 171.646, -185.52 )

[node name="saw9" parent="saw" instance=ExtResource( 6 )]
position = Vector2( 289.907, -126.786 )

[node name="saw10" parent="saw" instance=ExtResource( 6 )]
position = Vector2( 366.102, 189.107 )

[node name="saw11" parent="saw" instance=ExtResource( 6 )]
position = Vector2( 52.5904, 189.901 )

[node name="saw12" parent="saw" instance=ExtResource( 6 )]
position = Vector2( 123.23, -104.562 )

[node name="saw13" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -91.0694, -106.15 )

[node name="saw14" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -6.1434, 106.562 )

[node name="saw15" parent="saw" instance=ExtResource( 6 )]
position = Vector2( -268.065, 108.943 )

[node name="Next_level" parent="." instance=ExtResource( 7 )]
position = Vector2( -183.675, 36.2922 )
scale = Vector2( 0.264, 1 )
next_world = "res://Scenes/MAIN MENU.tscn"

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0, 0, 0, 1 )

[node name="TileMap" parent="." instance=ExtResource( 1 )]
tile_data = PoolIntArray( -851993, 0, 0, -851992, 0, 0, -851991, 0, 0, -851990, 0, 0, -851989, 0, 0, -851988, 0, 0, -851987, 0, 0, -851986, 0, 0, -851985, 0, 0, -851984, 0, 0, -851983, 0, 0, -851982, 0, 0, -851981, 0, 0, -851980, 0, 0, -851979, 0, 0, -851978, 0, 0, -851977, 0, 0, -851976, 0, 0, -851975, 0, 0, -851974, 0, 0, -851973, 0, 0, -851972, 0, 0, -851971, 0, 0, -851970, 0, 0, -851969, 0, 0, -917504, 0, 0, -917503, 0, 0, -917502, 0, 0, -917501, 0, 0, -917500, 0, 0, -917499, 0, 0, -917498, 0, 0, -917497, 0, 0, -917496, 0, 0, -917495, 0, 0, -917494, 0, 0, -917493, 0, 0, -917492, 0, 0, -917491, 0, 0, -917490, 0, 0, -917489, 0, 0, -917488, 0, 0, -917487, 0, 0, -917486, 0, 0, -917485, 0, 0, -917484, 0, 0, -917483, 0, 0, -917482, 0, 0, -917481, 0, 0, -917480, 0, 0, -786457, 0, 0, -786456, 0, 0, -786455, 0, 0, -786454, 0, 0, -786453, 0, 0, -786452, 0, 0, -786451, 0, 0, -786450, 0, 0, -786449, 0, 0, -786448, 0, 0, -786447, 0, 0, -786446, 0, 0, -786445, 0, 0, -786444, 0, 0, -786443, 0, 0, -786442, 0, 0, -786441, 0, 0, -786440, 0, 0, -786439, 0, 0, -786438, 0, 0, -786437, 0, 0, -786436, 0, 0, -786435, 0, 0, -786434, 0, 0, -786433, 0, 0, -851968, 0, 0, -851967, 0, 0, -851966, 0, 0, -851965, 0, 0, -851964, 0, 0, -851963, 0, 0, -851962, 0, 0, -851961, 0, 0, -851960, 0, 0, -851959, 0, 0, -851958, 0, 0, -851957, 0, 0, -851956, 0, 0, -851955, 0, 0, -851954, 0, 0, -851953, 0, 0, -851952, 0, 0, -851951, 0, 0, -851950, 0, 0, -851949, 0, 0, -851948, 0, 0, -851947, 0, 0, -851946, 0, 0, -851945, 0, 0, -851944, 0, 0, -720921, 0, 0, -720920, 0, 0, -786409, 0, 0, -786408, 0, 0, -655385, 0, 0, -655384, 0, 0, -720873, 0, 0, -720872, 0, 0, -589849, 0, 0, -589848, 0, 0, -655337, 0, 0, -655336, 0, 0, -524313, 0, 0, -524312, 0, 0, -589801, 0, 0, -589800, 0, 0, -458777, 0, 0, -458776, 0, 0, -458770, 0, 0, -458769, 0, 0, -458768, 0, 0, -458767, 0, 0, -458766, 0, 0, -458765, 0, 0, -458764, 0, 0, -458763, 0, 0, -458762, 0, 0, -458761, 0, 0, -458760, 0, 0, -458759, 0, 0, -458758, 0, 0, -458757, 0, 0, -458756, 0, 0, -458755, 0, 0, -458754, 0, 0, -458753, 0, 0, -524288, 0, 0, -524287, 0, 0, -524286, 0, 0, -524285, 0, 0, -524284, 0, 0, -524283, 0, 0, -524282, 0, 0, -524281, 0, 0, -524280, 0, 0, -524279, 0, 0, -524278, 0, 0, -524277, 0, 0, -524276, 0, 0, -524275, 0, 0, -524274, 0, 0, -524273, 0, 0, -524272, 0, 0, -524271, 0, 0, -524265, 0, 0, -524264, 0, 0, -393241, 0, 0, -393240, 0, 0, -393234, 0, 0, -393227, 0, 0, -393223, 0, 0, -458744, 0, 0, -458735, 0, 0, -458729, 0, 0, -458728, 0, 0, -327705, 0, 0, -327704, 0, 0, -327698, 0, 0, -327693, 0, 0, -327691, 0, 0, -327687, 0, 0, -393208, 0, 0, -393199, 0, 0, -393193, 0, 0, -393192, 0, 0, -262169, 0, 0, -262168, 0, 0, -262162, 0, 0, -262157, 0, 0, -262155, 0, 0, -262151, 0, 0, -327672, 0, 0, -327663, 0, 0, -327657, 0, 0, -327656, 0, 0, -196633, 0, 0, -196632, 0, 0, -196626, 0, 0, -196621, 0, 0, -196619, 0, 0, -196615, 0, 0, -262136, 0, 0, -262127, 0, 0, -262121, 0, 0, -262120, 0, 0, -131097, 0, 0, -131096, 0, 0, -131090, 0, 0, -131085, 0, 0, -131083, 0, 0, -131079, 0, 0, -196600, 0, 0, -196591, 0, 0, -196585, 0, 0, -196584, 0, 0, -65561, 0, 0, -65560, 0, 0, -65554, 0, 0, -65549, 0, 0, -65547, 0, 0, -65543, 0, 0, -131064, 0, 0, -131055, 0, 0, -131049, 0, 0, -131048, 0, 0, -25, 0, 0, -24, 0, 0, -18, 0, 0, -13, 0, 0, -11, 0, 0, -7, 0, 0, -65528, 0, 0, -65519, 0, 0, -65513, 0, 0, -65512, 0, 0, 65511, 0, 0, 65512, 0, 0, 65518, 0, 0, 65523, 0, 0, 65525, 0, 0, 65529, 0, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 8, 0, 0, 17, 0, 0, 23, 0, 0, 24, 0, 0, 131047, 0, 0, 131048, 0, 0, 131054, 0, 0, 131059, 0, 0, 131061, 0, 0, 131065, 0, 0, 65536, 0, 0, 65538, 0, 0, 65544, 0, 0, 65553, 0, 0, 65559, 0, 0, 65560, 0, 0, 196583, 0, 0, 196584, 0, 0, 196590, 0, 0, 196595, 0, 0, 196597, 0, 0, 196601, 0, 0, 131072, 0, 0, 131074, 0, 0, 131080, 0, 0, 131089, 0, 0, 131095, 0, 0, 131096, 0, 0, 262119, 0, 0, 262120, 0, 0, 262126, 0, 0, 262131, 0, 0, 262132, 0, 0, 262133, 0, 0, 262134, 0, 0, 262135, 0, 0, 262136, 0, 0, 262137, 0, 0, 196608, 0, 0, 196610, 0, 0, 196616, 0, 0, 196625, 0, 0, 196631, 0, 0, 196632, 0, 0, 327655, 0, 0, 327656, 0, 0, 327662, 0, 0, 262144, 0, 0, 262146, 0, 0, 262152, 0, 0, 262161, 0, 0, 262167, 0, 0, 262168, 0, 0, 393191, 0, 0, 393192, 0, 0, 393198, 0, 0, 327680, 0, 0, 327682, 0, 0, 327688, 0, 0, 327697, 0, 0, 327703, 0, 0, 327704, 0, 0, 458727, 0, 0, 458728, 0, 0, 458734, 0, 0, 393216, 0, 0, 393218, 0, 0, 393224, 0, 0, 393225, 0, 0, 393226, 0, 0, 393227, 0, 0, 393228, 0, 0, 393229, 0, 0, 393230, 0, 0, 393231, 0, 0, 393232, 0, 0, 393233, 0, 0, 393239, 0, 0, 393240, 0, 0, 524263, 0, 0, 524264, 0, 0, 524270, 0, 0, 524271, 0, 0, 524272, 0, 0, 524273, 0, 0, 524274, 0, 0, 524275, 0, 0, 524276, 0, 0, 524277, 0, 0, 524278, 0, 0, 524279, 0, 0, 524280, 0, 0, 524281, 0, 0, 524282, 0, 0, 524283, 0, 0, 524284, 0, 0, 524285, 0, 0, 524286, 0, 0, 524287, 0, 0, 458752, 0, 0, 458754, 0, 0, 458775, 0, 0, 458776, 0, 0, 589799, 0, 0, 589800, 0, 0, 524290, 0, 0, 524311, 0, 0, 524312, 0, 0, 655335, 0, 0, 655336, 0, 0, 589826, 0, 0, 589847, 0, 0, 589848, 0, 0, 720871, 0, 0, 720872, 0, 0, 655362, 0, 0, 655383, 0, 0, 655384, 0, 0, 786407, 0, 0, 786408, 0, 0, 720898, 0, 0, 720919, 0, 0, 720920, 0, 0, 851943, 0, 0, 851944, 0, 0, 851945, 0, 0, 851946, 0, 0, 851947, 0, 0, 851948, 0, 0, 851949, 0, 0, 851950, 0, 0, 851951, 0, 0, 851952, 0, 0, 851953, 0, 0, 851954, 0, 0, 851955, 0, 0, 851956, 0, 0, 851957, 0, 0, 851958, 0, 0, 851959, 0, 0, 851960, 0, 0, 851961, 0, 0, 851962, 0, 0, 851963, 0, 0, 851964, 0, 0, 851965, 0, 0, 851966, 0, 0, 851967, 0, 0, 786432, 0, 0, 786433, 0, 0, 786434, 0, 0, 786435, 0, 0, 786436, 0, 0, 786437, 0, 0, 786438, 0, 0, 786439, 0, 0, 786440, 0, 0, 786441, 0, 0, 786442, 0, 0, 786443, 0, 0, 786444, 0, 0, 786445, 0, 0, 786446, 0, 0, 786447, 0, 0, 786448, 0, 0, 786449, 0, 0, 786450, 0, 0, 786451, 0, 0, 786452, 0, 0, 786453, 0, 0, 786454, 0, 0, 786455, 0, 0, 786456, 0, 0, 917479, 0, 0, 917480, 0, 0, 917481, 0, 0, 917482, 0, 0, 917483, 0, 0, 917484, 0, 0, 917485, 0, 0, 917486, 0, 0, 917487, 0, 0, 917488, 0, 0, 917489, 0, 0, 917490, 0, 0, 917491, 0, 0, 917492, 0, 0, 917493, 0, 0, 917494, 0, 0, 917495, 0, 0, 917496, 0, 0, 917497, 0, 0, 917498, 0, 0, 917499, 0, 0, 917500, 0, 0, 917501, 0, 0, 917502, 0, 0, 917503, 0, 0, 851968, 0, 0, 851969, 0, 0, 851970, 0, 0, 851971, 0, 0, 851972, 0, 0, 851973, 0, 0, 851974, 0, 0, 851975, 0, 0, 851976, 0, 0, 851977, 0, 0, 851978, 0, 0, 851979, 0, 0, 851980, 0, 0, 851981, 0, 0, 851982, 0, 0, 851983, 0, 0, 851984, 0, 0, 851985, 0, 0, 851986, 0, 0, 851987, 0, 0, 851988, 0, 0, 851989, 0, 0, 851990, 0, 0, 851991, 0, 0, 851992, 0, 0 )

[node name="Lights" type="Node2D" parent="."]

[node name="Light2D" type="Light2D" parent="Lights"]
position = Vector2( -237.401, 37.7249 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_enabled = true
shadow_gradient_length = 2.0
shadow_filter = 5
shadow_filter_smooth = 29.5

[node name="Light2D2" type="Light2D" parent="Lights"]
position = Vector2( -20.7655, -22.4492 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_enabled = true
shadow_gradient_length = 2.0
shadow_filter = 1
shadow_filter_smooth = 29.5

[node name="Light2D3" type="Light2D" parent="Lights"]
position = Vector2( -127.961, -3.36738 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_enabled = true
shadow_gradient_length = 2.0
shadow_filter = 1
shadow_filter_smooth = 29.5

[node name="Light2D4" type="Light2D" parent="Lights"]
position = Vector2( -179.594, 4.48986 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_enabled = true
shadow_gradient_length = 2.0
shadow_filter = 1
shadow_filter_smooth = 29.5

[node name="Light2D5" type="Light2D" parent="Lights"]
position = Vector2( 194.747, 23.0105 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_enabled = true
shadow_gradient_length = 2.0
shadow_filter = 5
shadow_filter_smooth = 64.0

[node name="Light2D6" type="Light2D" parent="Lights"]
position = Vector2( 140.78, 150.309 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_enabled = true
shadow_gradient_length = 2.0
shadow_filter = 5
shadow_filter_smooth = 6.1
__meta__ = {
"_editor_description_": ""
}

[node name="Light2D7" type="Light2D" parent="Lights"]
position = Vector2( 7.522, 42.107 )
scale = Vector2( 2.651, 1.638 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
shadow_gradient_length = 2.0
shadow_filter = 5
shadow_filter_smooth = 6.1
__meta__ = {
"_editor_description_": ""
}

[node name="Control" type="Control" parent="."]
anchor_left = -0.25
anchor_top = -0.247
anchor_right = 0.249
anchor_bottom = 0.25
margin_top = 0.300003
margin_right = 0.600006
margin_bottom = 1.52588e-05
__meta__ = {
"_edit_use_anchors_": false
}

[node name="title" type="Sprite" parent="Control"]
modulate = Color( 0.568627, 0.227451, 0.227451, 1 )
position = Vector2( 419.44, 191.685 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 8 )

[node name="startButton" type="Button" parent="Control"]
margin_left = 312.404
margin_top = 229.294
margin_right = 502.404
margin_bottom = 296.294
icon = ExtResource( 9 )
flat = true
expand_icon = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="player" type="KinematicBody2D" parent="."]
position = Vector2( 24.3658, 24.3275 )
collision_mask = 7
script = ExtResource( 2 )
__meta__ = {
"_edit_group_": true
}

[node name="Area2D" type="Area2D" parent="player"]
z_index = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="player/Area2D"]
z_index = 1
shape = SubResource( 1 )

[node name="particles" type="Node2D" parent="player"]

[node name="movement" type="Particles2D" parent="player/particles"]
modulate = Color( 0, 0, 0, 1 )
amount = 100
lifetime = 0.01
speed_scale = 64.0
local_coords = false
process_material = SubResource( 2 )

[node name="death" type="Particles2D" parent="player/particles"]
emitting = false
amount = 6533
one_shot = true
explosiveness = 1.0
fixed_fps = 60
local_coords = false
process_material = SubResource( 5 )

[node name="player" type="Sprite" parent="player"]
modulate = Color( 0.254902, 0.25098, 0.25098, 1 )
light_mask = 0
z_index = 3
z_as_relative = false
texture = ExtResource( 4 )

[node name="Collision" type="CollisionShape2D" parent="player"]
shape = SubResource( 6 )

[node name="Light2D" type="Light2D" parent="player"]
position = Vector2( 6.64743, -6.468 )
scale = Vector2( 5, 5 )
texture = ExtResource( 3 )
color = Color( 0.447059, 0.431373, 0.713726, 1 )
range_height = 2048.0
shadow_enabled = true
shadow_color = Color( 1, 0, 0, 0 )
shadow_buffer_size = 2800
shadow_gradient_length = 1.0
shadow_filter = 5
shadow_filter_smooth = 4.5
__meta__ = {
"_editor_description_": ""
}

[node name="RayCastRight" type="RayCast2D" parent="player"]
rotation = -1.5708
enabled = true
cast_to = Vector2( 0, 15 )

[node name="RayCastLeft" type="RayCast2D" parent="player"]
rotation = 1.5708
enabled = true
cast_to = Vector2( 0, 15 )

[node name="RayCastDownLeft" type="RayCast2D" parent="player"]
position = Vector2( -10, 0 )
rotation = 1.5708
enabled = true
cast_to = Vector2( 25, 0 )

[node name="RayCastDownRight" type="RayCast2D" parent="player"]
position = Vector2( 10, 0 )
rotation = 1.5708
enabled = true
cast_to = Vector2( 25, 0 )

[node name="deathTimer" type="Timer" parent="player"]
one_shot = true

[node name="visionTimer" type="Timer" parent="player"]
wait_time = 5.0

[node name="speedTimer" type="Timer" parent="player"]
wait_time = 5.0
[connection signal="pressed" from="Control/startButton" to="." method="_on_startButton_pressed"]
[connection signal="area_shape_entered" from="player/Area2D" to="player" method="_on_Area2D_area_shape_entered"]
[connection signal="timeout" from="player/deathTimer" to="player" method="_on_Timer_timeout"]
[connection signal="timeout" from="player/visionTimer" to="player" method="_on_visionTimer_timeout"]
[connection signal="timeout" from="player/speedTimer" to="player" method="_on_speedTimer_timeout"]
